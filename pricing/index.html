<!DOCTYPE html>
<html lang="en">

<head>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-SQW6G6NF3G"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
    
      gtag('config', 'G-SQW6G6NF3G');
    </script>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no">
    <title>S.T.R.In.G - Pricing</title>
    <!-- Font Icons -->
    <link media="all" rel="stylesheet" href="css/fonts/icomoon/icomoon.css">
    <link media="all" rel="stylesheet" href="css/fonts/roxine-font-icon/roxine-font.css">
    <link media="all" rel="stylesheet" href="vendors/font-awesome/css/font-awesome.css">
    <!-- Vendors -->
    <link media="all" rel="stylesheet" href="vendors/owl-carousel/dist/assets/owl.carousel.min.css">
    <link media="all" rel="stylesheet" href="vendors/owl-carousel/dist/assets/owl.theme.default.min.css">
    <link media="all" rel="stylesheet" href="vendors/animate/animate.css">
    <link media="all" rel="stylesheet" href="vendors/rateyo/jquery.rateyo.css">
    <link media="all" rel="stylesheet" href="vendors/bootstrap-datepicker/css/bootstrap-datepicker.css">
    <link media="all" rel="stylesheet" href="vendors/fancyBox/source/jquery.fancybox.css">
    <link media="all" rel="stylesheet" href="vendors/fancyBox/source/helpers/jquery.fancybox-thumbs.css">
    <!-- Bootstrap 4 -->
    <link media="all" rel="stylesheet" href="css/bootstrap.css">
    <!-- Rev Slider -->
    <link rel="stylesheet" type="text/css" href="vendors/rev-slider/revolution/css/settings.css">
    <link rel="stylesheet" type="text/css" href="vendors/rev-slider/revolution/css/layers.css">
    <link rel="stylesheet" type="text/css" href="vendors/rev-slider/revolution/css/navigation.css">
    <!-- Theme CSS -->
    <link media="all" rel="stylesheet" href="css/main.css">
    <!-- Custom CSS -->
    <link media="all" rel="stylesheet" href="css/custom.css">
    <style>
      /* This will hide the third column which is assumed to be the 'charges' */
      .table th:nth-child(3),
      .table td:nth-child(3) {
        display: none;
      }
    </style>

</head>

<body>
    <!-- main wrapper -->
    <div id="wrapper">
        <div class="page-wrapper">
            <!-- header of the page -->
            <header class="fixed-top main-header header-white no-top-header" id="waituk-main-header">
                <div id="nav-section">
                    <div class="bottom-header container-fluid mega-menus" id="mega-menus">
                        <nav class="navbar navbar-toggleable-md no-border-radius no-margin mega-menu-multiple" id="navbar-inner-container">
                            <button type="button" class="navbar-toggler navbar-toggler-left" data-toggle="collapse" data-target="#mega-menu">
                                <span class="navbar-toggler-icon"></span>
                            </button>
                            <a class="navbar-brand mr-auto m-sm-auto" href="index.html"> <img src="img/string-black-logo.png" alt="string" width="350"> </a>
                            <div class="collapse navbar-collapse flex-row-reverse" id="mega-menu"><div class="collapse navbar-collapse flex-row-reverse justify-content-center"
                                id="mega-menu">
                                <ul class="nav navbar-nav">
                                    <li>
                                        <a href="/"> Home </a>
                                    </li>
                                    <li>
                                        <a href="about.html"> About </a>
                                    </li>
                                    <li class="dropdown" data-animation="fadeIn">
                                        <a class="dropdown-toggle" data-toggle="dropdown" href="/"
                                            data-title="Home"> Services </a>
                                        <ul class="dropdown-menu no-border-radius">
                                            <li><a href="design.html"> Design </a></li>
                                            <li><a href="development.html"> Development </a></li>
                                            <li><a href="data-analytics.html"> Data Analytics </a></li>
                                            <li><a href="data-science.html"> Data Science </a></li>
                                            <li><a href="operations-research.html"> Operations Research </a></li>
                                        </ul>
                                    </li>
                                    <li class="dropdown" data-animation="fadeIn">
                                        <a class="dropdown-toggle" data-toggle="dropdown" href="index.html"
                                            data-title="Home"> Our Solutions </a>
                                        <ul class="dropdown-menu no-border-radius">
                                            <li><a href="digital-muneem.html">Digital Muneem</a></li>
                                    <li><a href="ed-tech.html">Ed. Tech</a></li>
                                    <li><a href="automated-document-reader.html">Automated Document Reader</a></li>
                                        </ul>
                                    </li>
                                    <li>
                                        <a href="use-case.html"> Use Cases </a>
                                    </li>
                                    <li>
                                        <a href="contact.html"> Contact </a>
                                    </li>
                                </ul>
                            </div>
                        </nav>
                    </div>
                </div>
            </header>
            <!--/header of the page -->
            <div class="floating-card">
                Total: <span id="totalValue">0</span>
            </div>
            
            <div class="form-card tab-container">
                <div id="steps">
                    <!-- Steps will be generated by JavaScript -->
                </div>
                <div id="buttonWrapper">
                    <button class="btn btn-black btn-small-font" id="backBtn">Back</button>
                    <button class="btn btn-black btn-small-font" id="nextBtn">Next</button>
                </div>                      
            </div>
            <div class="content-wrapper">
                    <section class="content-block">
                        <div class="container">
                            <div class="demo-wrapper">
                                <!-- Modal -->
                                <div class="modal-wrap">
                                    <div class="modal fade" id="contactModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
                                        <div class="modal-dialog" role="document">
                                            <div class="modal-content">
                                                <div class="modal-header bg-gray-light">
                                                    <h3 class="modal-title content-title contact-title mb-0" style="text-align: center;" id="exampleModalLabel">We have all your interests, we will gets back soon!
                                                    <br>
                                                    Thanks for reaching out.</h3>
                                                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                                        <i class="icon-ios-close-empty"></i>
                                                    </button>
                                                </div>
                                                <div class="modal-body">
                                                    <form action="send_db.php" method="post" id="contact_form" class="waituk_contact-form">
                                                        <div class="row">
                                                            <div class="col-md-12">
                                                                <div class="form-group">
                                                                    <input type="text" placeholder="FULL NAME *" id="con_fname" name="con_fname" class="form-control">
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="row">
                                                            <div class="col-md-6">
                                                                <div class="form-group">
                                                                    <input type="tel" placeholder="PHONE NUMBER" id="con_phone" name="con_phone" class="form-control">
                                                                </div>
                                                            </div>
                                                            <div class="col-md-6">
                                                                <div class="form-group">
                                                                    <input type="email" placeholder="EMAIL ADDRESS *" id="con_email" name="con_email" class="form-control">
                                                                </div>
                                                            </div>
                                                            <input type="hidden" id="hiddenTotalAmount" name="totalAmount" value="">
                                                            <input type="hidden" id="hiddenSelectedServices" name="selectedServices" value="">
                                                        </div>
                                                        <div class="btn-container">
                                                            <button type="submit" id="btn_sent" class="btn btn-black btn-small-font">SUBMIT</button>
                                                        </div>
                                                    </form>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </section>
                </div>
                <!-- Thank You Modal -->
<div class="modal fade" id="thankYouModal" tabindex="-1" role="dialog" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-body">
        Thanks, we will get back soon!
      </div>
    </div>
  </div>
</div>

        </div>
        <!-- footer of the pagse -->
        <footer class="footer footer-v1 footer-v2">
            <div class="content-block footer-main pb-3">
                <div class="container">
                    <div class="row">
                        <div class="col-lg-2">
                            <div class="footer-logo mt-2">
                                <img src="img/string-logo.png" alt="image-description">
                            </div>
                        </div>
                        <div class="col-lg-4">
                            <div class="waituk_newsletter-form newsletter-v1 mt-2">
                                <form action="#" method="post">
                                    <fieldset class="clearfix">
                                        <div class="form-group input-holder">
                                            <input type="email" class="form-control" placeholder="Email Address">
                                            <button type="submit" class="btn"><i class="fa fa-send"></i></button>
                                        </div>
                                    </fieldset>
                                </form>
                            </div>
                            <div class="my-4">
                                <p>Your trusted partner in innovation and technology, propelling businesses forward 
                                    with cutting-edge solutions and unparalleled expertise.</p>
                            </div>
                        </div>
                        <div class="col-lg-2">
                            <h4>Services</h4>
                            <div class="footer-nav">
                                <ul>
                                    <li><a href="development.html">Web Development</a></li>
                                    <li><a href="development.html">App Development</a></li>
                                    <li><a href="design.html">Design</a></li>
                                    <li><a href="data-analytics.html">Data Analytics</a></li>
                                    <li><a href="data-science.html">Data Science</a></li>
                                    <li><a href="operations-research.html">Operations Research</a></li>
                                </ul>
                            </div>
                        </div>
                        <div class="col-lg-2">
                            <h4>Company</h4>
                            <div class="footer-nav">
                                <ul>
                                    <li><a href="index.html">Home</a></li>
                                    <li><a href="about.html">About</a></li>
                                    <li><a href="index.html#our-services-section">Services</a></li>
                                    <li><a href="legal.html">Legal</a></li>
                                    <li><a href="policies.html">Policies</a></li>
                                </ul>
                            </div>
                        </div>
                        <div class="col-lg-2">
                            <h4>Our Solutions</h4>
                            <div class="footer-nav">
                                <ul>
                                    <li><a href="digital-muneem.html">Digital Muneem</a></li>
                                    <li><a href="ed-tech.html">Ed. Tech</a></li>
                                    <li><a href="automated-document-reader.html">Automated Document Reader</a></li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="footer-bottom">
                    <div class="container">
                        <div class="row">
                            <div class="col-md-6 pb-3">
                                <p> © 2023 STRINGLAB TECHNOLOGY SOLUTIONS Pvt. Ltd. <br> All Rights Reserved. </p>
                            </div>
                            <div class="col-md-6">
                                <ul class="social-network with-text">
                                    <li><a href="https://www.instagram.com/s.t.r.in.g/"><span class="icon-instagram"></span></a></li>
                                    <li><a href="#"><span class="icon-facebook"></span></a></li>
                                    <li><a href="#"><span class="icon-twitter"></span></a></li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </footer>
        <!--/footer of the page -->
    </div>
     <!-- search form wrapper -->
    <div class="search-form-wrapper">
        <a href="#" class="nav-search-link close"><span class="icon-android-close"></span></a>
        <div class="holder">
            <input type="search" class="form-control form-control-v1" placeholder="Enter Your Search">
             <button type="submit"><span class="custom-icon-search"></span></button>
        </div>
    </div>

    <a href="#" class="section-scroll" id="scroll-to-top"><i class="fa fa-angle-up"></i></a>
    <!-- jquery library -->
    <script src="vendors/jquery/jquery-2.1.4.min.js"></script>
    <!-- external scripts -->
    <script src="vendors/tether/dist/js/tether.min.js"></script>
    <script src="vendors/bootstrap/js/bootstrap.min.js"></script>
    <script src="vendors/stellar/jquery.stellar.min.js"></script>
    <script src="vendors/isotope/javascripts/isotope.pkgd.min.js"></script>
    <script src="vendors/isotope/javascripts/packery-mode.pkgd.js"></script>
    <script src="vendors/owl-carousel/dist/owl.carousel.js"></script>
    <script src="vendors/waypoint/waypoints.min.js"></script>
    <script src="vendors/counter-up/jquery.counterup.min.js"></script>
    <script src="vendors/fancyBox/source/jquery.fancybox.pack.js"></script>
    <script src="vendors/fancyBox/source/helpers/jquery.fancybox-thumbs.js"></script>
    <script src="vendors/image-stretcher-master/image-stretcher.js"></script>
    <script src="vendors/wow/wow.min.js"></script>
    <script src="vendors/rateyo/jquery.rateyo.js"></script>
    <script src="vendors/bootstrap-datepicker/js/bootstrap-datepicker.js"></script>
    <script src="vendors/bootstrap-slider-master/src/js/bootstrap-slider.js"></script>
    <script src="vendors/bootstrap-select/dist/js/bootstrap-select.min.js"></script>
    <script src="js/mega-menu.js"></script>
    <!-- custom jquery script -->
    <script src="js/jquery.main.js"></script>
    <script src="js/jquery.validate.js"></script>
    <script src="js/mailchimp.js"></script>
    <script src="js/contact-form.js"></script>
    <!-- REVOLUTION JS FILES -->
    <script type="text/javascript" src="vendors/rev-slider/revolution/js/jquery.themepunch.tools.min.js"></script>
    <script type="text/javascript" src="vendors/rev-slider/revolution/js/jquery.themepunch.revolution.min.js"></script>
    <!-- SLIDER REVOLUTION 5.0 EXTENSIONS  (Load Extensions only on Local File Systems !  The following part can be removed on Server for On Demand Loading) -->
    <script type="text/javascript" src="vendors/rev-slider/revolution/js/extensions/revolution.extension.actions.min.js"></script>
    <script type="text/javascript" src="vendors/rev-slider/revolution/js/extensions/revolution.extension.carousel.min.js"></script>
    <script type="text/javascript" src="vendors/rev-slider/revolution/js/extensions/revolution.extension.kenburn.min.js"></script>
    <script type="text/javascript" src="vendors/rev-slider/revolution/js/extensions/revolution.extension.layeranimation.min.js"></script>
    <script type="text/javascript" src="vendors/rev-slider/revolution/js/extensions/revolution.extension.migration.min.js"></script>
    <script type="text/javascript" src="vendors/rev-slider/revolution/js/extensions/revolution.extension.navigation.min.js"></script>
    <script type="text/javascript" src="vendors/rev-slider/revolution/js/extensions/revolution.extension.parallax.min.js"></script>
    <script type="text/javascript" src="vendors/rev-slider/revolution/js/extensions/revolution.extension.slideanims.min.js"></script>
    <script type="text/javascript" src="vendors/rev-slider/revolution/js/extensions/revolution.extension.video.min.js"></script>
    <!-- SNOW ADD ON -->
    <script type="text/javascript" src="vendors/rev-slider/revolution-addons/snow/revolution.addon.snow.min.js"></script>
        <!-- revolutions slider script -->
    <script src="js/revolution.js"></script>
    <script>
        let currencyCode = 'INR';
        let currentStep = 0;
        let totalAmount = 0;
        let data = {};
        let selectedServices = [];
        
        function restructureFetchedData(fetchedData) {
            const structuredData = {};
            fetchedData.forEach(item => {
                const service = item.service;
                if (!structuredData[service]) {
                    structuredData[service] = [];
                }
                structuredData[service].push({
                    task: item.task_name,
                    hrs: item.hrs,
                    charges: parseFloat(item.charges),
                    currency_symbol: item.currency_symbol
                });
            });
            return structuredData;
        }
        
        function fetchDataFromDatabase(countryCode) {
            fetch(`config.php?country=${countryCode}`)
                .then(response => response.json())
                .then(fetchedData => {
                    data = restructureFetchedData(fetchedData);
                    if (fetchedData.length > 0) {
                        currencyCode = fetchedData[0].currency_symbol; // Assuming currency_code is a field in your data
                    }
                    Object.keys(data).forEach(key => populateStep(key));
                    document.querySelector(`#steps .step:nth-child(1)`).style.display = 'block';
                    document.getElementById('totalValue').innerText = `${currencyCode} 0`; // Update currency display
                });
        }
        
        function populateStep(stepKey) {
            const stepContainer = document.getElementById('steps');
            const stepData = data[stepKey];
        
            let html = '<div class="step table table-striped">';
            html += '<table>';
            html += '<thead><tr><th class="tab-container">Task</th><th class="tab-container">Qty</th><th class="tab-container">Charges</th><th class="tab-container">Charges</th></tr></thead>';
            html += '<tbody>';
            
            stepData.forEach((item) => {
                html += '<tr>';
                html += `<td>${item.task}</td>`;
                html += `<td><input type="number" data-hrs="${item.hrs}" data-charges="${item.charges}" onchange="updateTotal(this)"></td>`;
                html += `<td>${item.currency_symbol}${item.charges}</td>`;
                html += '<td>0</td>';
                html += '</tr>';
            });
        
            html += '</tbody></table></div>';
            stepContainer.innerHTML += html;
        }
        
        function updateTotal(inputElem) {
            // Parse the quantity, hrs, and charges from the input element
            const qty = parseInt(inputElem.value) || 0;
            const hrs = parseFloat(inputElem.dataset.hrs);
            const charges = parseFloat(inputElem.dataset.charges);
            
            // Calculate the total for the current row and update it
            const totalForRow = qty * hrs * charges;
            const row = inputElem.closest('tr');
            row.querySelector('td:last-child').innerText = `${currencyCode} ${totalForRow.toFixed(2)}`;
            
            // Calculate the new total amount by iterating over all inputs
            totalAmount = 0; // Reset total
            document.querySelectorAll('#steps .step input[type="number"]').forEach(input => {
                const rowTotal = parseFloat(input.closest('tr').querySelector('td:last-child').innerText.replace(currencyCode, '')) || 0;
                totalAmount += rowTotal;
            });
        
            // Update the total value in the UI
            document.getElementById('totalValue').innerText = `${currencyCode} ${totalAmount.toFixed(2)}`;
            
            // Update the hidden input for the total amount
            document.getElementById('hiddenTotalAmount').value = totalAmount.toFixed(2);
        
            // Update the selected services array
            const taskName = row.querySelector('td:first-child').innerText;
            // Remove the service if it exists and quantity is 0
            selectedServices = selectedServices.filter(s => s.task !== taskName || qty > 0);
            // Add the service if quantity is more than 0
            if (qty > 0) {
                selectedServices.push({
                    task: taskName,
                    quantity: qty,
                    total: totalForRow.toFixed(2)
                });
            }
            
            // Update the hidden input for selected services
            document.getElementById('hiddenSelectedServices').value = JSON.stringify(selectedServices);
        }
        
        function displayFinalMessage() {
            const stepContainer = document.getElementById('steps');
            const backButton = document.getElementById('backBtn');
            const nextButton = document.getElementById('nextBtn');
        
            stepContainer.innerHTML = `
                <div class="final-message">
                    <p class="catchphrase pt-4">You're all set for greatness!</p>
                    <p style="font-weight: 700">Total: ${currencyCode} <span id="finalTotalValue">${totalAmount}</span></p>
                    <button class="btn btn-black btn-small-font" id="getStartedBtn">Let's Get Started</button>
                </div>
            `;
        
            // Hide the next button and change the back button to "Let's Get Started"
            nextButton.style.display = 'none';
            backButton.style.display = 'none';  // You might not need this if you want to remove the "Back" button altogether
        
            // Bind the event for the new "Let's Get Started" button
            document.getElementById('getStartedBtn').addEventListener('click', openModal);
        }
        
        function openModal() {
            // Assuming you have a modal with an ID of `contactModal`
            //document.getElementById('contactModal').style.display = 'block';
            $('#contactModal').modal('show');
        }
        
        // Add the services chosen by the user to the contact form submission
        function prepareAndSendData() {
            const contactForm = document.getElementById('contact_form');
            contactForm.addEventListener('submit', function(event) {
                event.preventDefault();
                
                // Gather the chosen services and their details
                const chosenServices = [];
                document.querySelectorAll('#steps .step').forEach((step, index) => {
                    if (index < currentStep) { // Assuming all steps before the final message contain service selections
                        step.querySelectorAll('input[type="number"]').forEach(input => {
                            if (input.value > 0) {
                                chosenServices.push({
                                    task: input.closest('tr').querySelector('td:first-child').innerText,
                                    quantity: input.value,
                                    total: input.closest('tr').querySelector('td:last-child').innerText
                                });
                            }
                        });
                    }
                });
        
                // Prepare the data to be sent, including contact details and chosen services
                const formData = new FormData(contactForm);
                formData.append('selectedServices', JSON.stringify(chosenServices)); // Make sure the key matches the one in the PHP script
                formData.append('totalAmount', totalAmount);
                
                // Send the data to the server via the backend script (e.g., PHP)
                fetch('send_db.php', {
                    method: 'POST',
                    body: formData
                })
                .then(response => {
                    if (response.ok) {
                        return response.text();
                    } else {
                        throw new Error('Network response was not ok.');
                    }
                })
                .then(result => {
                    alert('Your information has been sent successfully!');
                    console.log(result); // Log the result from the server
                    // Here you may also want to close the modal or reset the form
                })
                .catch(error => {
                    console.error('Error:', error);
                });
            });
        }

        
        function updateStepView(goingToNext) {
            const steps = document.querySelectorAll('#steps .step');
            const nextButton = document.getElementById('nextBtn');
            const backButton = document.getElementById('backBtn');
        
            // Hide the current step
            steps[currentStep].style.display = 'none';
        
            // Adjust currentStep based on navigation direction
            if (goingToNext) {
                currentStep++;
            } else {
                currentStep--;
            }
        
            // Ensure currentStep is within bounds
            currentStep = Math.max(0, Math.min(currentStep, steps.length - 1));
        
            // Check if we're at the checkout step
            if (currentStep === steps.length) {
                handleCheckout();
            } else {
                // Show the new current step
                steps[currentStep].style.display = 'block';
                
                // Update button text
                nextButton.textContent = currentStep === steps.length - 1 ? 'Checkout' : 'Next';
            }
        
            // Update event listeners for buttons
            if (currentStep === steps.length - 1) {
                nextButton.removeEventListener('click', handleNext);
                nextButton.addEventListener('click', handleCheckout);
            } else {
                nextButton.removeEventListener('click', handleCheckout);
                nextButton.addEventListener('click', handleNext);
            }
        
            // Hide or show the back button
            backButton.style.display = currentStep === 0 ? 'none' : 'inline-block';
        }
        
        function handleNext() {
            updateStepView(true);
        }
        
        function handleBack() {
            updateStepView(false);
        }
        
        function handleCheckout() {
            // Proceed to checkout
            displayFinalMessage();
        }
        
        // Bind the handleNext and handleBack functions to the respective buttons
        document.getElementById('nextBtn').addEventListener('click', handleNext);
        document.getElementById('backBtn').addEventListener('click', handleBack);
        
        // Fetching data based on country code in the URL
        const urlParams = new URLSearchParams(window.location.search);
        const countryCode = urlParams.get('country');
        if (countryCode) {
            fetchDataFromDatabase(countryCode);
        }
        
        document.addEventListener('DOMContentLoaded', (event) => {
            // Initially hide the back button if we are on the first step
            document.getElementById('backBtn').style.display = currentStep === 0 ? 'none' : 'inline-block';
            
            // Also, make sure the first step is displayed, and others are hidden
            const steps = document.querySelectorAll('#steps .step');
            steps.forEach((step, index) => {
            step.style.display = index === 0 ? 'block' : 'none';
            prepareAndSendData();
            });
            
              const contactForm = document.getElementById('contact_form');
  contactForm.addEventListener('submit', function(event) {
    event.preventDefault(); // This prevents the default form submission
    
    const formData = new FormData(this); // This collects the form data
    
    // This sends the form data using AJAX to your PHP script
    fetch('send_db.php', {
      method: 'POST',
      body: formData
    })
    .then(response => response.text())
    .then(result => {
      $('#contactModal').modal('hide'); // Hide the contact form modal
      
      $('#thankYouModal').modal('show'); // Show the thank you modal
      setTimeout(() => {
        $('#thankYouModal').modal('hide'); // Hide the thank you modal after 2 seconds
      }, 2000);
    })
    .catch(error => {
      console.error('Error:', error);
      alert('An error occurred while sending your message.');
    });
  });
        });
    </script>
</body>

</html>
